1) Non-repeatable Read	
Ocorre ❌ — mesmo SELECT retorna valores diferentes após outro COMMIT.	
Evitado ✅ — snapshot fixo, valor não muda durante a transação.	
Evitado ✅	Usar REPEATABLE READ ou maior.                      |
2) Phantom Read
Ocorre ❌ — nova linha inserida aparece na segunda consulta.
Evitado ✅ — snapshot fixo mantém o mesmo conjunto de linhas.
Evitado ✅ — pode até abortar uma transação conflitante.
Índices + RR/SERIALIZABLE.
3) Lost Update	
Ocorre ❌ — última atualização sobrescreve a anterior (saldo final errado).
ocorre ❌ (mesmo snapshot, mas sem bloqueio da linha).	
ocorre ❌ se não usar lock explícito.	Usar SELECT ... FOR UPDATE (bloqueio pessimista) ou controle otimista com versão.
4) Write Skew
Ocorre ❌ — duas transações quebram a regra de negócio (nenhum médico em plantão).
Também ocorre ❌ — snapshot isolado, mas regra ainda violada.
Evitado ✅ — PostgreSQL aborta uma das transações.
SERIALIZABLE + CHECK, TRIGGER ou lógica na aplicação.
